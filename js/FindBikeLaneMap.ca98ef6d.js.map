{"version":3,"sources":["webpack:///./src/hooks/use-html-map-maker.ts","webpack:///./src/api-handler/cycling.ts","webpack:///./src/components/find-bike-lane/Map.vue?7648","webpack:///./src/components/find-bike-lane/Map.vue","webpack:///./src/components/find-bike-lane/Map.vue?faa1","webpack:///./src/components/find-bike-lane/FindBikeLaneMap.vue?7f0a","webpack:///./src/components/find-bike-lane/FindBikeLaneMap.vue","webpack:///./src/components/find-bike-lane/FindBikeLaneMap.vue?6b28","webpack:///./src/components/find-bike-lane/FindBikeLaneMap.vue?54d6","webpack:///./src/components/find-bike-lane/Map.vue?a99d"],"names":["createHTMLMapMarker","OverlayView","args","window","google","maps","latlng","html","setMap","map","position","createDiv","this","div","document","createElement","style","innerHTML","event","addDomListener","trigger","appendDivToOverlay","panes","getPanes","overlayImage","appendChild","positionDiv","point","getProjection","fromLatLngToDivPixel","offset","left","x","top","y","draw","remove","parentNode","removeChild","getPosition","getDraggable","HTMLMapMarker","basePath","getCyclingShape","city","get","getFilteredCyclingShape","routeName","_hoisted_1","id","render","_ctx","_cache","$props","$setup","$data","$options","name","props","bikeLaneGeomery","type","Array","default","laneCenter","Object","lat","lng","starAndEnd","zoom","Number","setup","_this","center","polylinePath","startAndEnd","initMap","value","Map","getElementById","maxZoom","minZoom","streetViewControl","mapTypeControl","disableDefaultUI","lineSymbol","path","SymbolPath","CIRCLE","strokeOpacity","fillOpacity","scale","Polyline","icons","icon","repeat","setBikeLaneMakers","lane","index","latling","_a","label","LatLng","sent","v","_b","__exports__","class","_hoisted_2","src","alt","_hoisted_3","_component_ArrowLeftBold","_component_el_icon","_component_router_link","_component_Map","_component_BaseLayout","header","onClick","goBack","_","to","$route","params","body","laneDistance","components","BaseLayout","ArrowLeftBold","router","route","back","getBikeLaneGeomery","res","error_1","trys","push","cycling","data","Geometry","split","item","Math","ceil","length","console","log","distance","distanceKm"],"mappings":"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","file":"js/FindBikeLaneMap.ca98ef6d.js","sourcesContent":["const createHTMLMapMarker = ({\r\n  OverlayView = window.google.maps.OverlayView,\r\n  ...args\r\n}) => {\r\n  class HTMLMapMarker extends window.google.maps.OverlayView {\r\n    latlng: any;\r\n    html: string;\r\n    div?: any;\r\n    getPanes: any;\r\n    position? :any;\r\n    constructor() {\r\n      super();\r\n      this.latlng = args.latlng;\r\n      this.html = args.html;\r\n      this.setMap(args.map);\r\n      this.position = args.position;\r\n    }\r\n\r\n    createDiv() {\r\n      this.div = document.createElement(\"div\");\r\n      this.div.style.position = \"absolute\";\r\n      if (this.html) {\r\n        this.div.innerHTML = this.html;\r\n      }\r\n      window.google.maps.event.addDomListener(this.div, \"click\", event => {\r\n        window.google.maps.event.trigger(this, \"click\");\r\n      });\r\n    }\r\n\r\n    appendDivToOverlay() {\r\n      const panes = this.getPanes();\r\n      panes.overlayImage.appendChild(this.div);\r\n    }\r\n\r\n    positionDiv() {\r\n      const point = this.getProjection().fromLatLngToDivPixel(this.latlng);\r\n      const offset = 25;\r\n      if (point) {\r\n        this.div.style.left = `${point.x - offset}px`;\r\n        this.div.style.top = `${point.y - offset}px`;\r\n      }\r\n    }\r\n\r\n    draw() {\r\n      if (!this.div) {\r\n        this.createDiv();\r\n        this.appendDivToOverlay();\r\n      }\r\n      this.positionDiv();\r\n    }\r\n\r\n    remove() {\r\n      if (this.div) {\r\n        this.div.parentNode.removeChild(this.div);\r\n        this.div = null;\r\n      }\r\n    }\r\n\r\n    getPosition() {\r\n      return this.latlng;\r\n    }\r\n\r\n    getDraggable() {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return new HTMLMapMarker();\r\n};\r\n\r\nexport default createHTMLMapMarker;","import { apiHelper } from '../utils/api-helper';\r\nimport {\r\n  IBikeShape,\r\n} from '@/types/cycling';\r\nconst basePath = 'Cycling';\r\nexport default {\r\n  getCyclingShape(city: string) {\r\n    return apiHelper.get<IBikeShape[]>(`${basePath}/Shape/${city}`);\r\n  },\r\n  getFilteredCyclingShape(city: string, routeName: string) {\r\n    return apiHelper.get<IBikeShape[]>(`${basePath}/Shape/${city}?$filter=RouteName eq '${routeName}'`);\r\n  },\r\n}","import { openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\r\nvar _hoisted_1 = { id: \"map\" };\r\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\r\n    return (_openBlock(), _createElementBlock(\"div\", _hoisted_1));\r\n}\r\n","import { __awaiter, __generator } from \"tslib\";\r\nimport { defineComponent, ref, watch, onMounted } from 'vue';\r\nimport createHTMLMapMarker from \"../../hooks/use-html-map-maker\";\r\nexport default defineComponent({\r\n    name: 'FindLaneMap',\r\n    props: {\r\n        bikeLaneGeomery: {\r\n            type: Array,\r\n            default: function () { return []; }\r\n        },\r\n        laneCenter: {\r\n            type: Object,\r\n            default: function () { return ({ lat: 25.0325917, lng: 121.5624999 }); }\r\n        },\r\n        starAndEnd: {\r\n            type: Array,\r\n            default: function () { return []; }\r\n        },\r\n        zoom: {\r\n            type: Number,\r\n            default: 0\r\n        }\r\n    },\r\n    setup: function (props) {\r\n        var _this = this;\r\n        var map = ref(null);\r\n        var center = ref({\r\n            lat: 25.0325917,\r\n            lng: 121.5624999\r\n        });\r\n        var polylinePath = ref([]);\r\n        var startAndEnd = ref([]);\r\n        var initMap = function () {\r\n            map.value = new window.google.maps.Map(document.getElementById(\"map\"), {\r\n                center: center.value,\r\n                zoom: props.zoom,\r\n                maxZoom: 20,\r\n                minZoom: 3,\r\n                streetViewControl: false,\r\n                mapTypeControl: false,\r\n                disableDefaultUI: true,\r\n            });\r\n            var lineSymbol = {\r\n                path: window.google.maps.SymbolPath.CIRCLE,\r\n                strokeOpacity: 1,\r\n                fillOpacity: 1,\r\n                scale: 3\r\n            };\r\n            var line = new window.google.maps.Polyline({\r\n                path: polylinePath.value,\r\n                strokeOpacity: 0,\r\n                icons: [{\r\n                        icon: lineSymbol,\r\n                        offset: '0',\r\n                        repeat: '20px'\r\n                    }],\r\n                map: map.value\r\n            });\r\n        };\r\n        var setBikeLaneMakers = function () {\r\n            if (startAndEnd.value) {\r\n                props.starAndEnd.map(function (lane, index) { return __awaiter(_this, void 0, void 0, function () {\r\n                    var lat, lng, latling, markers, markers;\r\n                    return __generator(this, function (_a) {\r\n                        switch (_a.label) {\r\n                            case 0:\r\n                                if (!lane)\r\n                                    return [2 /*return*/];\r\n                                lat = lane.lat, lng = lane.lng;\r\n                                return [4 /*yield*/, new window.google.maps.LatLng({ lat: lat, lng: lng })];\r\n                            case 1:\r\n                                latling = _a.sent();\r\n                                if (!(index === 0)) return [3 /*break*/, 3];\r\n                                return [4 /*yield*/, createHTMLMapMarker({\r\n                                        latlng: latling,\r\n                                        map: map.value,\r\n                                        html: \"<div class=\\\"location\\\">\\n                <img class=\\\"locaion-img\\\" src=\\\"img/return-location.png\\\">\\n                <div class=\\\"count return\\\">\\u59CB</div>\\n                </div\"\r\n                                    })];\r\n                            case 2:\r\n                                markers = _a.sent();\r\n                                return [3 /*break*/, 5];\r\n                            case 3: return [4 /*yield*/, createHTMLMapMarker({\r\n                                    latlng: latling,\r\n                                    map: map.value,\r\n                                    html: \"<div class=\\\"location\\\">\\n                <img class=\\\"locaion-img\\\" src=\\\"img/return-location.png\\\">\\n                <div class=\\\"count return\\\">\\u7D42</div>\\n                </div\"\r\n                                })];\r\n                            case 4:\r\n                                markers = _a.sent();\r\n                                _a.label = 5;\r\n                            case 5: return [2 /*return*/];\r\n                        }\r\n                    });\r\n                }); });\r\n            }\r\n        };\r\n        watch(function () { return props.laneCenter; }, function (v) { return __awaiter(_this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        center.value = v;\r\n                        return [4 /*yield*/, initMap()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        }); });\r\n        watch(function () { return props.bikeLaneGeomery; }, function () {\r\n            setBikeLaneMakers();\r\n        });\r\n        watch(function () { return props.bikeLaneGeomery; }, function (v) { return __awaiter(_this, void 0, void 0, function () {\r\n            var _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _a = polylinePath;\r\n                        return [4 /*yield*/, props.bikeLaneGeomery];\r\n                    case 1:\r\n                        _a.value = _b.sent();\r\n                        initMap();\r\n                        setBikeLaneMakers();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        }); });\r\n        watch(function () { return props.zoom; }, function () {\r\n            initMap();\r\n            setBikeLaneMakers();\r\n        });\r\n        onMounted(function () {\r\n            initMap();\r\n        });\r\n        return {\r\n            setBikeLaneMakers: setBikeLaneMakers,\r\n            initMap: initMap,\r\n        };\r\n    },\r\n});\r\n","/* unplugin-vue-components disabled */import { render } from \"./Map.vue?vue&type=template&id=74e4bcab&ts=true\"\nimport script from \"./Map.vue?vue&type=script&lang=ts\"\nexport * from \"./Map.vue?vue&type=script&lang=ts\"\n\nimport \"./Map.vue?vue&type=style&index=0&id=74e4bcab&lang=scss\"\n\nimport exportComponent from \"D:\\\\taiwan-bike-map\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\r\nimport _imports_0 from '../../assets/min-main-logo.png';\r\nvar _hoisted_1 = { class: \"back-button\" };\r\nvar _hoisted_2 = /*#__PURE__*/ _createElementVNode(\"div\", { class: \"home-logo\" }, [\r\n    /*#__PURE__*/ _createElementVNode(\"img\", {\r\n        src: _imports_0,\r\n        alt: \"\"\r\n    })\r\n], -1);\r\nvar _hoisted_3 = { class: \"main-title\" };\r\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\r\n    var _component_ArrowLeftBold = _resolveComponent(\"ArrowLeftBold\");\r\n    var _component_el_icon = _resolveComponent(\"el-icon\");\r\n    var _component_router_link = _resolveComponent(\"router-link\");\r\n    var _component_Map = _resolveComponent(\"Map\");\r\n    var _component_BaseLayout = _resolveComponent(\"BaseLayout\");\r\n    return (_openBlock(), _createBlock(_component_BaseLayout, { class: \"find-bike-lane\" }, {\r\n        header: _withCtx(function () { return [\r\n            _createElementVNode(\"div\", _hoisted_1, [\r\n                _createVNode(_component_el_icon, { onClick: _ctx.goBack }, {\r\n                    default: _withCtx(function () { return [\r\n                        _createVNode(_component_ArrowLeftBold)\r\n                    ]; }),\r\n                    _: 1\r\n                }, 8, [\"onClick\"])\r\n            ]),\r\n            _createVNode(_component_router_link, { to: \"/\" }, {\r\n                default: _withCtx(function () { return [\r\n                    _hoisted_2\r\n                ]; }),\r\n                _: 1\r\n            }),\r\n            _createElementVNode(\"div\", _hoisted_3, [\r\n                _createElementVNode(\"p\", null, _toDisplayString(_ctx.$route.params.routeName), 1)\r\n            ])\r\n        ]; }),\r\n        body: _withCtx(function () { return [\r\n            _createVNode(_component_Map, {\r\n                bikeLaneGeomery: _ctx.bikeLaneGeomery,\r\n                laneCenter: _ctx.laneCenter,\r\n                starAndEnd: _ctx.starAndEnd,\r\n                zoom: _ctx.laneDistance\r\n            }, null, 8, [\"bikeLaneGeomery\", \"laneCenter\", \"starAndEnd\", \"zoom\"])\r\n        ]; }),\r\n        _: 1\r\n    }));\r\n}\r\n","import { __awaiter, __generator } from \"tslib\";\r\nimport { defineComponent, ref, onMounted } from 'vue';\r\nimport BaseLayout from '@/layouts/BaseLayout.vue';\r\nimport { ArrowLeftBold } from '@element-plus/icons';\r\nimport cyclingShapeHandler from '@/api-handler/cycling';\r\nimport Map from '@/components/find-bike-lane/Map.vue';\r\nimport { useRouter, useRoute } from 'vue-router';\r\nexport default defineComponent({\r\n    name: 'FindBikeLaneMap',\r\n    components: {\r\n        BaseLayout: BaseLayout,\r\n        ArrowLeftBold: ArrowLeftBold,\r\n        Map: Map,\r\n    },\r\n    setup: function () {\r\n        var _this = this;\r\n        var router = useRouter();\r\n        var route = useRoute();\r\n        var bikeLaneGeomery = ref([]);\r\n        var laneCenter = ref(null);\r\n        var starAndEnd = ref([]);\r\n        var laneDistance = ref(15);\r\n        var goBack = function () {\r\n            router.back();\r\n        };\r\n        var getBikeLaneGeomery = function (city, routeName) { return __awaiter(_this, void 0, void 0, function () {\r\n            var res, _a, error_1;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _b.trys.push([0, 4, , 5]);\r\n                        return [4 /*yield*/, cyclingShapeHandler.getFilteredCyclingShape(city, routeName)];\r\n                    case 1:\r\n                        res = _b.sent();\r\n                        if (!res) return [3 /*break*/, 3];\r\n                        _a = bikeLaneGeomery;\r\n                        return [4 /*yield*/, res.data[0].Geometry.split('((')[1].split('))')[0].split(',')\r\n                                .map(function (item) { return item.split(' '); }).map(function (item) { return ({\r\n                                lat: Number(item[1]),\r\n                                lng: Number(item[0])\r\n                            }); })];\r\n                    case 2:\r\n                        _a.value = _b.sent();\r\n                        laneCenter.value = bikeLaneGeomery.value[Math.ceil(bikeLaneGeomery.value.length / 2)];\r\n                        starAndEnd.value.push(bikeLaneGeomery.value[0]);\r\n                        starAndEnd.value.push(bikeLaneGeomery.value[bikeLaneGeomery.value.length - 1]);\r\n                        _b.label = 3;\r\n                    case 3: return [3 /*break*/, 5];\r\n                    case 4:\r\n                        error_1 = _b.sent();\r\n                        console.log(error_1);\r\n                        return [3 /*break*/, 5];\r\n                    case 5: return [2 /*return*/];\r\n                }\r\n            });\r\n        }); };\r\n        onMounted(function () {\r\n            var _a = route.params, city = _a.city, routeName = _a.routeName, distance = _a.distance;\r\n            var distanceKm = Number(distance) / 1000;\r\n            if (distanceKm > 3) {\r\n                laneDistance.value = 13;\r\n            }\r\n            getBikeLaneGeomery(city, routeName);\r\n        });\r\n        return {\r\n            bikeLaneGeomery: bikeLaneGeomery,\r\n            laneCenter: laneCenter,\r\n            starAndEnd: starAndEnd,\r\n            laneDistance: laneDistance,\r\n            goBack: goBack,\r\n        };\r\n    }\r\n});\r\n","/* unplugin-vue-components disabled */import { render } from \"./FindBikeLaneMap.vue?vue&type=template&id=34efe59f&ts=true\"\nimport script from \"./FindBikeLaneMap.vue?vue&type=script&lang=ts\"\nexport * from \"./FindBikeLaneMap.vue?vue&type=script&lang=ts\"\n\nimport \"./FindBikeLaneMap.vue?vue&type=style&index=0&id=34efe59f&lang=scss\"\n\nimport exportComponent from \"D:\\\\taiwan-bike-map\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","/* unplugin-vue-components disabled */export * from \"-!../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--38-0!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./FindBikeLaneMap.vue?vue&type=style&index=0&id=34efe59f&lang=scss\"","/* unplugin-vue-components disabled */export * from \"-!../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--38-0!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Map.vue?vue&type=style&index=0&id=74e4bcab&lang=scss\""],"sourceRoot":""}